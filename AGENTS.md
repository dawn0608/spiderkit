# AGENTS.md

## 0. 优先级与适用范围

- 本文件适用于本项目中所有 Agent 行为
- 本文件拥有最高优先级
- 与任何其他规则冲突时, 以本文件为准
- 任何违规行为必须明确说明原因
- 未说明原因的违规视为错误输出

---

## 1. 全局语言规则

- 所有输出必须使用中文
- 禁止出现英文自然语言
- 所有文本必须使用英文标点符号
- 禁止使用中文标点符号

---

## 2. Python 项目通用规则

- 本项目为 Python 项目
- 禁止引入非 Python 生态方案

---

## 3. 包管理与环境

- 包管理工具必须且只能使用 uv
- 所有依赖必须通过 uv 管理并可复现
- 禁止使用 pip, poetry, pipenv
- 禁止使用 requirements.txt 作为主依赖来源

---

## 4. 日志与异常

- 日志库必须且只能使用 `loguru`
- 禁止使用 `print` 作为日志
- 所有日志内容必须使用中文, 且结尾不得使用句号
- 捕获任何异常时必须使用 `logger.exception`
- 禁止捕获具体异常类型
- 只能捕获 `Exception`
- 禁止在未记录日志的情况下吞掉异常

---

## 5. 代码风格

- 所有字符串字面量必须使用双引号
- 禁止解释性单行注释
- 禁止通过注释解释代码意图
- 禁止多余空行或视觉分隔

---

## 6. 类型, 路径与导入

- 禁止使用 `from typing import Union`
- 联合类型必须使用 `|`
- 文件路径操作必须使用 `pathlib.Path`
- 禁止使用 `os` 进行路径管理
- 模块导入顺序必须为:
  1. Python 内置模块
  2. 第三方模块
  3. 项目内模块
- 不同分组之间必须间隔一行

---

## 7. 函数文档字符串

- 每个函数必须编写 Google 风格文档字符串
- 文档字符串必须使用中文, 且结尾不得使用句号
- 仅描述函数意图, 参数, 返回值(返回 `None` 时忽略)
- 禁止在文档字符串中描述异常